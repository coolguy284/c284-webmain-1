<!doctype html>
<html lang = 'en'>
  <head>
    <meta charset = 'utf-8'>
    
    <title>coolguy284.com: Juicy Queenbeet Hole-Punch Calculator</title>
    
    <meta name = 'viewport' content = 'width=device-width, initial-scale=1.0'>
    <meta name = 'description' content = 'Calculates optimal hole-punch locations for a 6x6 field of Queenbeets to maximize Juicy Queenbeet spawn chance ticks in the game Cookie Clicker.'>
    <meta name = 'keywords' content = 'Cookie Clicker, Juicy Queenbeet'>
    <meta name = 'author' content = 'coolguy284'>
    
    <link rel = 'canonical' href = 'https://coolguy284.com/debug/juicy_queenbeet_hole_punch.html'>
    
    <meta name = 'og:title' content = 'coolguy284.com: Juicy Queenbeet Hole-Punch Calculator'>
    <meta name = 'og:description' content = 'Calculates optimal hole-punch locations for a 6x6 field of Queenbeets to maximize Juicy Queenbeet spawn chance ticks in the game Cookie Clicker.'>
    <meta name = 'og:type' content = 'website'>
    <meta name = 'og:url' content = 'https://coolguy284.com/debug/juicy_queenbeet_hole_punch.html'>
    
    <link rel = 'stylesheet' href = '/libs/extern/bootstrap_5.0.0.min.css'>
    <style>
      textarea {
        font-family: monospace;
        height: 200px;
      }
    </style>
  </head>
  
  <body>
    <div class = 'container mt-3'>
      <noscript>
        <div class = 'alert alert-warning' role = 'alert' style = 'padding: 0.5rem 2rem 0.5rem;'>
          Note: This has obvious active components and thus requires JavaScript to function (JavaScript is disabled).
        </div>
      </noscript>
      
      <h1>Cookie Clicker Juicy Queenbeet Hole-Punch Calculator</h1>
      
      <p>Calculates optimal hole-punch locations for a 6x6 field of Queenbeets to maximize Juicy Queenbeet spawn chance ticks in the game Cookie Clicker.</p>
      
      <textarea id = 'input' class = 'form-control'></textarea>
      
      <br>
      
      <div class = 'form-check'>
        <label for = 'seedless_to_nay_gotten' class = 'form-check-label'>
          Seedless to Nay Achievement Gotten
        </label>
        
        <input type = 'checkbox' id = 'seedless_to_nay_gotten' class = 'form-check-input'>
      </div>
      
      <br>
      
      <button class = 'btn btn-primary'>Calculate</button>
      
      <p class = 'mt-3'>Results:</p>
      <p id = 'results'></p>
    </div>
    
    <script type = 'module'>
      // Next 2 constants might need to be incremented by 1
      
      /**
       * The length of ticks a Juicy Queenbeet is mature when the "Seedless to nay" achievment is not unlocked.
       */
      const JQB_MATURE_TICKS_NO_STN = 16; // Might be 17
      
      /**
       * The length of ticks a Juicy Queenbeet is mature when the "Seedless to nay" achievment is unlocked.
       */
      const JQB_MATURE_TICKS_STN = 19; // Might be 20
      
      /**
       * The [x, y] offsets that make up the Moore neighborhood of a point.
       */
      const MOORE_NEIGHBORHOOD_OFFSETS = [
        [-1, -1],
        [-1, 0],
        [-1, 1],
        [0, -1],
        [0, 1],
        [1, -1],
        [1, 0],
        [1, 1],
      ];
      
      /**
       * Parses a string containing Juicy Queenbeet age data into an intermediate representation.
       */
      function parseJQBData(jqbData) {
        const garden2d =
          jqbData
            .split('\n')
            .filter(x => x != '')
            .map(
              x =>
                x
                  .split(/ +/g)
                  .filter(x => x != '')
                  .map(y => {
                    if (y.startsWith('-')) {
                      return Number(y.slice(1)) + MATURE_TICKS;
                    } else {
                      return Number(y);
                    }
                  })
            )
        
        return {
          garden: garden2d.flat(),
          gardenWidth: garden2d[0].length,
        }
      }
    </script>
  </body>
</html>
